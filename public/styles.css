/* BÃ¡sico */
body { margin:0; background:#181a1f; color:white; font-family: Arial, sans-serif; }
#root { padding:10px; }
#topbar { margin-bottom:8px; }
#roomUI input, #roomUI button { margin-right:6px; padding:6px 8px; border-radius:6px; border: none; font-size:14px; }
#gameWrap { display:flex; gap:12px; justify-content:center; align-items:flex-start; position:relative; }
#gameCanvas { background:#101010; border-radius:8px; box-shadow: 0 8px 20px rgba(0,0,0,0.6); }

/* Side panel */
#sidePanel { width:260px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.playerCard { background:#2a2f36; padding:12px; border-radius:8px; margin-bottom:8px; width:100%; text-align:center; }
.playerCard h4 { margin:0 0 6px 0; }

/* Status */
#status { margin-top:12px; text-align:center; font-weight:bold; }

/* Overlay */
.overlay { position:fixed; left:0; top:0; right:0; bottom:0; display:flex; align-items:center; justify-content:center; flex-direction:column; background: rgba(0,0,0,0.7); z-index:20; }

/* DOM corazones */
#heartsDOM {
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  gap: 6px;
  font-size: 26px;
  z-index: 10;
}
.heart { transition: transform 0.3s; }
.heart.broken { transform: scale(1.5); opacity:0; transition: transform 0.35s, opacity 0.35s; }

/* Borde rojo al fallar */
#borderFlash {
  position: absolute;
  top:0; left:0;
  width:600px; height:450px;
  border: 4px solid red;
  pointer-events:none;
  opacity:0;
  transition: opacity 0.3s;
  z-index: 9;
}

/* Hit flash */
#hitFlash {
  position:absolute;
  top:0; left:0;
  width:600px; height:450px;
  pointer-events:none;
  background: radial-gradient(circle at var(--x,50%) var(--y,50%), rgba(255,255,0,0.6) 0%, transparent 60%);
  opacity:0;
  transition: opacity 0.2s;
  z-index:11;
}
#hitFlash.show { opacity:1; }

/* Shake */
#gameWrap.shake { animation: shakeAnim 0.42s; }
@keyframes shakeAnim {
  0% { transform: translate(0,0); }
  20% { transform: translate(-8px,0); }
  40% { transform: translate(8px,0); }
  60% { transform: translate(-6px,0); }
  80% { transform: translate(6px,0); }
  100% { transform: translate(0,0); }
}

/* Final screen podium */
.finalCard { background:#222; padding:20px 30px; border-radius:12px; text-align:center; display:flex; flex-direction:column; align-items:center; gap:12px; }
.podium { display:flex; justify-content:center; align-items:flex-end; gap:12px; width:100%; }
.slot { display:flex; flex-direction:column; align-items:center; }
.bar { width:60px; background:#ffcc00; transition: height 0.8s ease; border-radius:6px; }
.label { margin-top:6px; font-weight:bold; color:#fff; }
.finalCard button { padding:8px 14px; border:none; border-radius:6px; background:#ffcc00; font-weight:bold; cursor:pointer; }
.finalCard button:hover { background:#e6b800; }
